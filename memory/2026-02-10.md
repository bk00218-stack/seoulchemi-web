# 2026-02-10 작업 기록

## 안경원 고객관리 시스템 (CRM) 신규 개발 시작

### 배경
- Zeus 요청: 안경원에서 사용하는 고객관리 프로그램 개발
- 서울케미 웹앱과 연동
- 웹/앱 동시 지원 → PWA 방식으로 결정

### 경쟁 제품 분석
- **애니아이**: 시장 점유율 높음, 모바일 앱 지원
- **레티나**: 안경업계 점유율 50% 주장, 체인/유통사 통합 플랫폼
- **OBM (오비엠)**: 모듈형 시스템, 오래된 업체
- **KISS**: POS + 고객관리 통합
- **Tc-ro**: (정보 부족)

### 차별화 포인트
- **서울케미 직접 연동** = 핵심 강점
- 고객 도수 입력 → 서울케미 렌즈 원클릭 주문
- 주문 상태 실시간 확인

### 구현 완료 (v1 MVP)

#### DB 스키마 추가 (prisma/schema.prisma)
- `Customer` - 안경원 고객 정보
- `CustomerPrescription` - 도수 기록 (OD/OS 처방값)
- `CustomerPurchase` - 고객 구매 이력
- `CustomerPurchaseItem` - 구매 상세
- `CustomerReminder` - 리마인더/알림
- `CrmSettings` - 안경원별 CRM 설정

#### 페이지 구조 (/crm/*)
```
/crm                    - 대시보드
/crm/customers          - 고객 목록
/crm/customers/new      - 신규 고객 등록
/crm/customers/[id]     - 고객 상세 (정보/도수/구매이력 탭)
/crm/sales              - 판매 관리
/crm/orders             - 렌즈 주문 (서울케미 연동)
/crm/reports            - 통계/리포트
/crm/settings           - 설정
```

#### UI/UX
- 반응형 레이아웃 (PC 사이드바 + 모바일 하단 네비게이션)
- PWA manifest 추가 (manifest-crm.json)
- 모바일 친화적 카드 UI

### 다음 작업 예정
1. API 연동 (현재 임시 데이터)
2. 도수 입력 폼 페이지
3. 판매 등록 페이지 (서울케미 상품 연동)
4. 렌즈 주문 페이지 (서울케미 주문 API 연동)
5. 문자 발송 기능
6. PWA 아이콘 추가

### 관련 파일
- `src/app/crm/*` - CRM 페이지들
- `prisma/schema.prisma` - DB 스키마
- `public/manifest-crm.json` - PWA 설정
