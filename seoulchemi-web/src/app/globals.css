* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Toast animation */
@keyframes toastSlideIn {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

:root {
  /* Light mode (default) - Bright & Clean */
  --bg-primary: #ffffff;
  --bg-secondary: #f8f9fa;
  --bg-tertiary: #ffffff;
  --bg-hover: #f1f3f5;
  
  --text-primary: #212529;
  --text-secondary: #6c757d;
  --text-tertiary: #868e96;
  
  --border-color: #e9ecef;
  --border-light: #f1f3f5;
  
  /* Gray scale - Softer, more neutral */
  --gray-50: #f8f9fa;
  --gray-100: #f1f3f5;
  --gray-200: #e9ecef;
  --gray-300: #dee2e6;
  --gray-400: #ced4da;
  --gray-500: #adb5bd;
  --gray-600: #6c757d;
  --gray-700: #495057;
  --gray-800: #343a40;
  --gray-900: #212529;
  
  --primary: #5d7a5d;
  --primary-light: #eef4ee;
  --primary-dark: #4a6b4a;
  
  --success: #20c997;
  --success-light: #d3f9d8;
  --warning: #fcc419;
  --warning-light: #fff3bf;
  --danger: #fa5252;
  --danger-light: #ffe3e3;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.04);
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.06), 0 1px 2px -1px rgb(0 0 0 / 0.06);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.05);
}

/* Dark mode */
[data-theme="dark"] {
  --bg-primary: #1c1c1e;
  --bg-secondary: #000000;
  --bg-tertiary: #2c2c2e;
  --bg-hover: #3a3a3c;
  
  --text-primary: #ffffff;
  --text-secondary: #8e8e93;
  --text-tertiary: #636366;
  
  --border-color: #38383a;
  --border-light: #2c2c2e;
  
  /* Gray scale (dark mode) */
  --gray-50: #1f2937;
  --gray-100: #374151;
  --gray-200: #4b5563;
  --gray-300: #6b7280;
  --gray-400: #9ca3af;
  --gray-500: #d1d5db;
  --gray-600: #e5e7eb;
  --gray-700: #f3f4f6;
  --gray-800: #f9fafb;
  --gray-900: #ffffff;
  
  --primary: #7d9d7d;
  --primary-light: #2a3d2a;
  --primary-dark: #a0c0a0;
  
  --success: #30d158;
  --success-light: #1a3d2a;
  --warning: #ff9f0a;
  --warning-light: #3d3019;
  --danger: #ff453a;
  --danger-light: #3d1f1f;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-size: 14px;
  color: var(--text-primary);
  background: var(--bg-secondary);
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

/* Force light mode colors for app content (app not designed for dark mode yet) */
[data-theme="dark"] main,
[data-theme="dark"] .main-content,
[data-theme="dark"] section,
[data-theme="dark"] aside,
[data-theme="dark"] nav {
  --text-primary: #212529;
  --text-secondary: #6c757d;
  --text-tertiary: #868e96;
  --bg-primary: #ffffff;
  --bg-secondary: #f8f9fa;
  --bg-tertiary: #ffffff;
  --bg-hover: #f1f3f5;
  --border-color: #e9ecef;
  color: #212529;
}

a {
  color: inherit;
  text-decoration: none;
}

button {
  font-family: inherit;
  cursor: pointer;
}

input, select, textarea {
  font-family: inherit;
  font-size: inherit;
  background: #ffffff;
  color: #212529;
  border: 1px solid #e9ecef;
  border-radius: 6px;
  padding: 8px 12px;
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: #5d7a5d;
  box-shadow: 0 0 0 3px rgba(93, 122, 93, 0.1);
}

input::placeholder, textarea::placeholder {
  color: #adb5bd;
}

/* Ensure text inputs always have dark text */
input[type="text"],
input[type="number"],
input[type="email"],
input[type="tel"],
input[type="search"],
input[type="password"],
input[type="date"],
textarea {
  color: #212529 !important;
  background-color: #ffffff;
}

table {
  border-collapse: collapse;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-tertiary);
}

::-webkit-scrollbar-thumb {
  background: var(--text-tertiary);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}

/* Selection */
::selection {
  background: var(--primary);
  color: white;
}

/* Focus styles */
:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Print styles */
@media print {
  body {
    background: white;
    color: black;
  }
}

/* ===== Mobile Responsive ===== */

/* Mobile First: Base mobile styles */
@media (max-width: 768px) {
  /* Hide desktop nav and sidebar on mobile */
  .desktop-nav,
  .sidebar,
  header nav,
  aside.sidebar,
  .desktop-sidebar {
    display: none !important;
  }
  
  /* Hide top nav items */
  header nav[role="navigation"] {
    display: none !important;
  }
  
  /* Show mobile menu button */
  .mobile-menu-btn {
    display: flex !important;
  }
  
  /* Show mobile sidebar */
  .mobile-sidebar {
    display: block !important;
  }
  
  /* Header adjustments */
  header {
    padding: 0 12px !important;
    height: 52px !important;
  }
  
  header > div:first-child {
    gap: 8px !important;
  }
  
  /* Hide search and info on mobile */
  header button[style*="minWidth: 200"],
  .desktop-search,
  .header-right-info {
    display: none !important;
  }
  
  /* Adjust main content padding */
  .main-content {
    padding: 12px !important;
    height: calc(100vh - 52px) !important;
  }
  
  /* Main area takes full width */
  main {
    width: 100% !important;
  }
  
  /* ===== Grid Layouts ===== */
  /* 4-column stats → 2 columns on mobile */
  div[style*="gridTemplateColumns: repeat(4"] {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 10px !important;
  }
  
  /* 2-column layouts → 1 column on mobile */
  div[style*="gridTemplateColumns: 2fr 1fr"],
  div[style*="gridTemplateColumns: 1fr 1fr"],
  div[style*="gridTemplateColumns: 1fr 2fr"] {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }
  
  /* 3-column layouts → 1 column */
  div[style*="gridTemplateColumns: repeat(3"] {
    grid-template-columns: 1fr !important;
  }
  
  /* Quick action buttons → 2 columns on mobile */
  div[style*="gridTemplateColumns: repeat(2, 1fr)"] {
    gap: 8px !important;
  }
  
  /* ===== Cards ===== */
  div[style*="borderRadius: 12"] {
    border-radius: 10px !important;
  }
  
  div[style*="padding: 20"] {
    padding: 14px !important;
  }
  
  /* Stat card font sizes */
  div[style*="fontSize: 28"] {
    font-size: 22px !important;
  }
  
  div[style*="fontSize: 20"] {
    font-size: 16px !important;
  }
  
  /* ===== Tables ===== */
  /* Table container scroll */
  div[style*="overflow: auto"],
  .table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }
  
  table {
    min-width: 700px;
  }
  
  th, td {
    padding: 10px 12px !important;
    font-size: 13px !important;
  }
  
  /* ===== Filters & Toolbars ===== */
  div[style*="display: flex"][style*="gap: 12"] {
    flex-wrap: wrap !important;
  }
  
  /* Filter container */
  div[style*="flexWrap: wrap"] {
    gap: 8px !important;
  }
  
  /* Date inputs smaller */
  input[type="date"] {
    width: 130px !important;
    padding: 8px 10px !important;
    font-size: 13px !important;
  }
  
  /* Select dropdowns */
  select {
    min-width: 100px !important;
    padding: 8px 10px !important;
    font-size: 13px !important;
  }
  
  /* Quick date buttons - scroll horizontally */
  div[style*="display: flex"][style*="gap: 4"] {
    overflow-x: auto;
    flex-wrap: nowrap !important;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 4px;
  }
  
  /* ===== Buttons ===== */
  button {
    padding: 8px 14px !important;
    font-size: 13px !important;
  }
  
  /* Button groups stack */
  .btn-group {
    flex-direction: column;
    gap: 8px;
  }
  
  .btn-group button {
    width: 100%;
  }
  
  /* Action buttons at bottom of tables */
  div[style*="borderTop: 1px solid"][style*="display: flex"][style*="justifyContent: space-between"] {
    flex-direction: column !important;
    gap: 12px !important;
    padding: 12px !important;
  }
  
  div[style*="borderTop: 1px solid"] div[style*="display: flex"][style*="gap: 8"] {
    flex-wrap: wrap !important;
    justify-content: center !important;
  }
  
  /* ===== Typography ===== */
  h1 { font-size: 20px !important; }
  h2 { font-size: 18px !important; }
  h3 { font-size: 15px !important; }
  
  /* ===== Forms ===== */
  input:not([type="checkbox"]):not([type="radio"]):not([type="date"]),
  textarea {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* Form labels stack */
  label {
    font-size: 13px !important;
  }
  
  /* ===== Charts ===== */
  /* Bar chart height adjustment */
  div[style*="height: 160"] {
    height: 120px !important;
  }
  
  /* ===== Misc ===== */
  /* Hide keyboard shortcuts hint on mobile */
  div[style*="position: fixed"][style*="bottom: 8"] {
    display: none !important;
  }
  
  /* Tab buttons */
  div[style*="display: flex"][style*="gap: 8"][style*="marginBottom: 16"] button {
    flex: 1;
    padding: 10px 12px !important;
    font-size: 13px !important;
  }
  
  /* Recent activity / list items */
  div[style*="display: flex"][style*="alignItems: flex-start"][style*="gap: 12"] {
    gap: 8px !important;
  }
  
  /* Top products list */
  div[style*="display: flex"][style*="alignItems: center"][style*="gap: 12"] {
    gap: 8px !important;
  }
  
  /* Truncate long text */
  div[style*="whiteSpace: nowrap"][style*="overflow: hidden"] {
    max-width: 140px !important;
  }
}

/* Small mobile (iPhone SE, etc) */
@media (max-width: 375px) {
  /* 2-column stats → 1 column on very small screens */
  div[style*="gridTemplateColumns: repeat(4"],
  div[style*="gridTemplateColumns: repeat(2"] {
    grid-template-columns: 1fr !important;
  }
  
  div[style*="padding: 14"] {
    padding: 12px !important;
  }
  
  div[style*="fontSize: 22"] {
    font-size: 20px !important;
  }
  
  /* Smaller quick action buttons */
  div[style*="gridTemplateColumns: repeat(2, 1fr)"] a {
    padding: 10px 12px !important;
    font-size: 12px !important;
  }
}

/* Tablet adjustments */
@media (max-width: 1024px) and (min-width: 769px) {
  .sidebar,
  .desktop-sidebar {
    width: 180px !important;
  }
  
  .main-content {
    padding: 16px !important;
  }
  
  /* 4-column → 2-column on tablet */
  div[style*="gridTemplateColumns: repeat(4"] {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* Large screens */
@media (min-width: 1400px) {
  .container {
    max-width: 1400px;
    margin: 0 auto;
  }
}

/* ===== Touch-friendly improvements ===== */
@media (hover: none) and (pointer: coarse) {
  /* Larger touch targets */
  button, a, input[type="checkbox"], input[type="radio"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Checkbox/radio larger */
  input[type="checkbox"],
  input[type="radio"] {
    width: 20px !important;
    height: 20px !important;
  }
  
  /* Remove hover effects that don't work on touch */
  *:hover {
    transition: none !important;
  }
}

/* ===== Utility Classes for Mobile ===== */
.mobile-only {
  display: none !important;
}

.desktop-only {
  display: block;
}

@media (max-width: 768px) {
  .mobile-only {
    display: block !important;
  }
  
  .desktop-only {
    display: none !important;
  }
  
  .mobile-full-width {
    width: 100% !important;
  }
  
  .mobile-stack {
    flex-direction: column !important;
  }
  
  .mobile-hide {
    display: none !important;
  }
  
  .mobile-scroll-x {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }
  
  .mobile-text-sm {
    font-size: 12px !important;
  }
  
  .mobile-p-sm {
    padding: 8px !important;
  }
  
  .mobile-gap-sm {
    gap: 8px !important;
  }
}
